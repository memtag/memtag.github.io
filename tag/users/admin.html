<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°—Ç–∞–ª–∞—Å—è –Ω–µ–≤—ñ–¥–æ–º–∞ –ø–æ–º–∏–ª–∫–∞</title>
    <script src="https://cdn.tailwindcss.com/"></script>
</head>
<body class="bg-gray-900 text-white flex flex-col items-center justify-center h-screen">
    <div id="errorMessage" class="text-center">
        <img id="errorImage" src="default.png" alt="–ü–æ–º–∏–ª–∫–∞" class="w-24 h-24 mb-4">
        <h1 class="text-xl font-bold">–ù–µ–º–æ–∂–ª–∏–≤–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Å–∞–π—Ç—É</h1>
        <button id="retryButton" class="bg-blue-500 px-6 py-2 rounded-md mt-4">–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏</button>
    </div>

    <div id="soundPlaying" class="hidden text-center">
        <img id="displayImage" src="default.png" alt="–ó–æ–±—Ä–∞–∂–µ–Ω–Ω—è" class="w-32 mb-4">
        <button id="muteButton" class="bg-gray-700 px-6 py-2 rounded-md">üîá –ó–∞–≥–ª—É—à–∏—Ç–∏</button>
    </div>

    <audio id="funSound" loop></audio>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const errorMessage = document.getElementById('errorMessage');
            const soundPlaying = document.getElementById('soundPlaying');
            const sound = document.getElementById('funSound');
            const retryButton = document.getElementById('retryButton');
            const muteButton = document.getElementById('muteButton');
            const displayImage = document.getElementById('displayImage');
            const errorImage = document.getElementById('errorImage');

            const savedImage = localStorage.getItem('uploadedImage');
            const savedAudio = localStorage.getItem('uploadedAudio');

            if (savedImage) {
                displayImage.src = savedImage;
                errorImage.src = savedImage;
            }
            if (savedAudio) {
                sound.src = savedAudio;
            }

            retryButton.addEventListener('click', function () {
                if (sound.src) {
                    sound.volume = 1.0;
                    sound.play().then(() => {
                        errorMessage.classList.add('hidden');
                        soundPlaying.classList.remove('hidden');
                    }).catch(() => alert('–°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑.'));
                }
            });

            muteButton.addEventListener('click', function () {
                sound.pause();
            });
        });
    </script>
</body>
</html>

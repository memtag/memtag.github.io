<!DOCTYPE html><html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
html,body{margin:0;background:#000;height:100%;overflow:hidden;cursor:pointer}
</style>
</head>
<body>
<audio id="s" src="../sound.mp3" loop></audio>
<script>
const u=new URL(location.href),t=u.searchParams.get('t');
const a=document.getElementById('s');
let ctx,src,gain,eq;
function initAudio(){
  ctx=new (window.AudioContext||window.webkitAudioContext)();
  src=ctx.createMediaElementSource(a);
  gain=ctx.createGain();
  gain.gain.value=4;
  eq=[
    {f:60,g:3},{f:170,g:2},{f:350,g:1},{f:1000,g:1},{f:3500,g:2},{f:10000,g:3}
  ].map(b=>{const f=ctx.createBiquadFilter();f.type='peaking';f.frequency.value=b.f;f.gain.value=b.g;return f});
  src.connect(eq[0]);
  for(let i=0;i<eq.length-1;i++) eq[i].connect(eq[i+1]);
  eq.at(-1).connect(gain).connect(ctx.destination);
}
function getDelay(timeStr){
  if(/\d+:\d+(:\d+)?/.test(timeStr)){
    const now=new Date();
    let parts=timeStr.split(':').map(Number);
    const target=new Date();
    target.setHours(parts[0], parts[1]||0, parts[2]||0, 0);
    if(target<=now) target.setDate(target.getDate()+1);
    return target-now;
  } else if(/\d+s?/.test(timeStr)){
    return parseInt(timeStr.replace(/s$/,''))*1000;
  }
  return 0;
}
function start(){
  document.body.removeEventListener('click', start);
  initAudio();
  ctx.resume().then(()=>{
    const delay=getDelay(t);
    setTimeout(()=>a.play(), delay);
  });
}
document.body.addEventListener('click', start);
</script>
</body>
</html>
